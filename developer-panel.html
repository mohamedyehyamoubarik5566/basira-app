<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة المطور الرئيسية 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="developer-panel-style.css">
    <link rel="stylesheet" href="update-actions-styles.css">
    <link rel="stylesheet" href="update-modal-styles.css">
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg">
        <div class="neon-grid"></div>
        <div class="floating-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
    </div>

    <!-- Header -->
    <header class="dev-header">
        <div class="header-content">
            <div class="logo-section">
                <i class="fas fa-code neon-icon"></i>
                <h1>Master Developer Panel</h1>
                <p class="powered-by">Powered by <span class="dev-name">Ahmed Mohamed</span></p>
            </div>
            <div class="auth-section">
                <div class="dev-key-input">
                    <input type="password" id="devKeyInput" placeholder="Developer Key" maxlength="20">
                    <button onclick="authenticateDev()" class="auth-btn">
                        <i class="fas fa-unlock"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="main-content" id="mainContent" style="display: none;">
        <!-- Dashboard Overview -->
        <section class="dashboard-section">
            <h2><i class="fas fa-chart-line"></i> Dashboard Overview</h2>
            <div class="stats-grid">
                <div class="stat-card companies">
                    <div class="stat-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalCompanies">0</h3>
                        <p>إجمالي الشركات</p>
                    </div>
                </div>
                
                <div class="stat-card transactions">
                    <div class="stat-icon">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalTransactions">0</h3>
                        <p>إجمالي المعاملات</p>
                    </div>
                </div>
                
                <div class="stat-card server">
                    <div class="stat-icon">
                        <i class="fas fa-server"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="serverStatus">Online</h3>
                        <p>حالة الخادم</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Company Manager -->
        <section class="company-manager-section">
            <h2><i class="fas fa-building-plus"></i> إدارة الشركات</h2>
            <div class="manager-grid">
                <div class="glass-card">
                    <h3>إضافة شركة جديدة</h3>
                    <form id="companyForm" class="company-form">
                        <div class="form-group">
                            <label>اسم الشركة</label>
                            <input type="text" id="companyName" required>
                        </div>
                        <div class="form-group">
                            <label>كود الشركة</label>
                            <input type="text" id="companyCode" required>
                        </div>
                        <div class="form-group">
                            <label>اسم المالك</label>
                            <input type="text" id="ownerName" required>
                        </div>
                        <div class="form-group">
                            <label>تاريخ انتهاء الترخيص</label>
                            <input type="date" id="expiryDate" required>
                        </div>
                        <button type="submit" class="neon-btn primary">
                            <i class="fas fa-plus"></i>
                            إضافة الشركة
                        </button>
                    </form>
                </div>
                
                <div class="glass-card">
                    <h3>الشركات المسجلة</h3>
                    <div class="companies-list" id="companiesList">
                        <!-- Companies will be loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Global Updates -->
        <section class="updates-section">
            <h2><i class="fas fa-sync-alt"></i> التحديثات العامة</h2>
            <div class="glass-card">
                <div class="update-controls">
                    <div class="version-info">
                        <label>الإصدار الحالي:</label>
                        <span id="currentVersion">2.0.1</span>
                    </div>
                    <div class="form-group">
                        <label>الإصدار الجديد</label>
                        <input type="text" id="newVersion" placeholder="2.0.2">
                    </div>
                    <div class="form-group">
                        <label>الميزات الجديدة</label>
                        <textarea id="newFeatures" placeholder="ميزة جديدة 1\nميزة جديدة 2\nإصلاح الأخطاء"></textarea>
                    </div>
                    <div class="form-group">
                        <label>الملفات المحدثة</label>
                        <input type="text" id="updatedFiles" placeholder="script.js,style.css,login-script.js">
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="mandatoryUpdate"> تحديث إجباري
                        </label>
                    </div>
                    <div class="update-actions">
                        <button onclick="pushGlobalUpdate()" class="neon-btn primary">
                            <i class="fas fa-rocket"></i>
                            دفع التحديث لجميع العملاء
                        </button>
                        <button onclick="testUpdate()" class="neon-btn secondary">
                            <i class="fas fa-flask"></i>
                            اختبار التحديث
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Database Browser -->
        <section class="database-section">
            <h2><i class="fas fa-database"></i> متصفح قاعدة البيانات</h2>
            <div class="glass-card">
                <div class="db-controls">
                    <select id="tableSelect" onchange="loadTableData()">
                        <option value="">اختر الجدول</option>
                        <option value="companies">الشركات</option>
                        <option value="sales">المبيعات</option>
                        <option value="staff">الموظفين</option>
                        <option value="treasury">الخزينة</option>
                        <option value="attendance">الحضور</option>
                    </select>
                    <button onclick="refreshData()" class="refresh-btn">
                        <i class="fas fa-refresh"></i>
                        تحديث
                    </button>
                </div>
                <div class="table-container">
                    <table class="data-table" id="dataTable">
                        <thead id="tableHead"></thead>
                        <tbody id="tableBody"></tbody>
                    </table>
                </div>
            </div>
        </section>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="database-config.js"></script>
    <script src="developer-panel-script.js"></script>
</body>
</html>